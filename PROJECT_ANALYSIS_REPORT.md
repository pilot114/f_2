# –û—Ç—á—ë—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É –ø—Ä–æ–µ–∫—Ç–∞

**–î–∞—Ç–∞:** 2025-11-22
**–í–µ—Ä—Å–∏—è:** 1.0
**–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–π –ø—Ä–æ–µ–∫—Ç:** Back2 (–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ—Ä—Ç–∞–ª)

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è](#–æ–±—â–∞—è-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)
3. [–°—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã](#—Å—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã)
4. [–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –±–∞–≥–∏](#–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ-–æ—à–∏–±–∫–∏-–∏-–±–∞–≥–∏)
5. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π-–¥–æ–ª–≥)
6. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

---

## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

- **–Ø–∑—ã–∫:** PHP 8.2
- **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Symfony 7.3
- **–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~42,055
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤:** ~400+ PHP —Ñ–∞–π–ª–æ–≤
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤:** 405 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤:** 95
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** Oracle (TEST —Å—Ö–µ–º–∞)

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Backend:** Symfony 7.3, PHP 8.2
- **ORM:** –ö–∞—Å—Ç–æ–º–Ω—ã–π ORM (portal/database)
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** Pest PHP
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑:** PHPStan (level 9), Rector, ECS
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
  - cuyz/valinor (–º–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö)
  - Illuminate/Support (–∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏–∑ Laravel)
  - JiraRestApi (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Jira)
  - PhpSpreadsheet (—Ä–∞–±–æ—Ç–∞ —Å Excel)
  - Sentry (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫)
  - MCP Server (Model Context Protocol)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **Clean Architecture** —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ **DDD** –∏ **CQRS**:
- **Entity** - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã
- **Use Case** - —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **Repository** - —Ä–∞–±–æ—Ç–∞ —Å –ë–î
- **Controller** - —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ (RPC endpoints)
- **Gateway** - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –ö–†–ò–¢–ò–ß–ù–û: –°–º–µ—à–∏–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ–µ–∫—Ç –Ω–∞ Symfony –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ Laravel (Illuminate\Support\Enumerable, Illuminate\Support\Collection).

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
- `src/Domain/Hr/Achievements/UseCase/CategoriesReadUseCase.php:9`
- `src/Domain/Hr/Achievements/Repository/CategoryQueryRepository.php:9`
- `src/Common/Service/Integration/ProductImageClient.php:9-10`
- –ò ~90+ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–æ–≤

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –≤–µ–Ω–¥–æ—Ä–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤–µ—Ä—Å–∏–π
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è
- –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ Symfony –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –Ω–∞–¥ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏.

---

### 2. ‚ö†Ô∏è –•–∞—Ä–¥–∫–æ–¥ IP-–∞–¥—Ä–µ—Å–æ–≤ –≤ –∫–æ–¥–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–∞ –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ –∫–æ–¥–µ –ø—Ä–æ–¥—É–∫—Ç–∞.

**–ü—Ä–∏–º–µ—Ä—ã:**
```php
// src/Common/Service/Integration/ProductImageClient.php:22
private const BASE_URI = 'http://192.168.6.68';

// composer.json:136 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
"url": "git@192.168.6.29:portal/database.git"
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö —Å–µ—Ç—è—Ö
- –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –†–∏—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (—Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ URL –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env).

---

### 3. ‚ö†Ô∏è Hardcoded —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (TEST)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î "TEST" –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–æ –≤ SQL –∑–∞–ø—Ä–æ—Å–∞—Ö –ø–æ –≤—Å–µ–º—É –∫–æ–¥—É.

**–ü—Ä–∏–º–µ—Ä—ã:**
```php
// src/Domain/Hr/Achievements/Repository/CategoryQueryRepository.php:37-40
FROM TEST.CP_EA_CATEGORIES cat
LEFT JOIN TEST.CP_EA_ACHIEVEMENT_CARDS ach ON ach.categories_id = cat.id
LEFT JOIN TEST.CP_EA_COLORS color ON color.id = cat.colors_id
LEFT JOIN TEST.CP_EA_IMAGE_LIBRARY image ON ach.image_library_id = image.id
```

**–ù–∞–π–¥–µ–Ω–æ –≤:** ~90+ —Ñ–∞–π–ª–æ–≤ Entity –∏ Repository

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ö–µ–º–∞–º–∏ –ë–î
- –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ PROD
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –í—ã–Ω–µ—Å—Ç–∏ —Å—Ö–µ–º—É –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å placeholder –≤ SQL –∑–∞–ø—Ä–æ—Å–∞—Ö
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ORM-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –ø–æ–ª–Ω–æ—Å—Ç—å—é

---

### 4. ‚ö†Ô∏è –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è JWT

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–∞–º–æ–ø–∏—Å–Ω—ã–π JWT-–ø–∞—Ä—Å–µ—Ä –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/System/Security/JWT.php`

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
```php
// TODO: lcobucci/jwt (—Å—Ç—Ä–æ–∫–∞ 8)

// –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É—è–∑–≤–∏–º–æ—Å—Ç—å –≤ —Å—Ç—Ä–æ–∫–µ 52:
if ($rawSign !== hash_hmac($header['alg'], $rawHeader . '.' . $rawPayload,
    base64_encode($this->secret))) {
    return false;
}
```

**–†–∏—Å–∫–∏:**
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- Algorithm confusion attacks
- –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ exp, nbf, iat claims

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É `lcobucci/jwt` (—É–∫–∞–∑–∞–Ω–æ –≤ TODO).

---

### 5. ‚ö†Ô∏è –ö–∞—Å—Ç–æ–º–Ω—ã–π HTTP Kernel

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ HTTP Kernel Symfony –¥–ª—è RPC-–ª–æ–≥–∏–∫–∏.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/System/CustomHttpKernel.php`

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –û–±—Ö–æ–¥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ä–æ—É—Ç–∏–Ω–≥–∞ Symfony
- –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å middleware
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Symfony —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö Symfony –ø–æ–¥—Ö–æ–¥–æ–≤ (Controller, Events).

---

### 6. ‚ö†Ô∏è –ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤ —Å –≤—ã—Å–æ–∫–æ–π —Ü–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é

**–°–∞–º—ã–µ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã:**
- `src/System/RPC/Spec/OpenRpcMockSpecBuilder.php` - 595 —Å—Ç—Ä–æ–∫
- `src/Domain/Finance/Kpi/Repository/KpiQueryRepository.php` - 541 —Å—Ç—Ä–æ–∫–∞
- `src/System/RPC/Attribute/RpcMethodLoader.php` - 452 —Å—Ç—Ä–æ–∫–∏
- `src/System/Excel/OpenSpoutExcelAdapter.php` - 397 —Å—Ç—Ä–æ–∫
- `src/System/RPC/Attribute/JsonSchemaExtractor.php` - 355 —Å—Ç—Ä–æ–∫

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å
- –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP (Single Responsibility Principle)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å —Ä–∞–∑–±–∏–µ–Ω–∏–µ–º –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ –∫–ª–∞—Å—Å—ã.

---

### 7. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JSON Schema

**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JSON Schema —Ä–∞–∑–º–∞–∑–∞–Ω–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–ª–∞—Å—Å–∞–º —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–æ–¥–∞.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
- `src/System/RPC/Attribute/RpcMethodLoader.php:265-357` (–º–µ—Ç–æ–¥ buildSchemaByDto)
- `src/System/RPC/Attribute/JsonSchemaExtractor.php`

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Å—Ö–µ–º

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ö–µ–º.

---

### 8. ‚ö†Ô∏è –°–ª–∞–±–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤ –º–µ—Å—Ç–∞—Ö —Ä–∞–±–æ—Ç—ã —Å —Ä–µ—Ñ–ª–µ–∫—Å–∏–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏.

**–ü—Ä–∏–º–µ—Ä—ã:**
```php
// src/System/RPC/Attribute/RpcMethodLoader.php:191
if ($type::class !== ReflectionNamedType::class) {
    return null;
}
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –í–æ–∑–º–æ–∂–Ω—ã–µ runtime –æ—à–∏–±–∫–∏
- –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞

---

### 9. ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä—è–º–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ timezone –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ Kernel.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/Kernel.php:18`
```php
date_default_timezone_set('Asia/Novosibirsk');
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –í–ª–∏—è–Ω–∏–µ –Ω–∞ –≤—Å–µ —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –°–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–µ–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Symfony (php.date.timezone).

---

## –°—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ö†Ô∏è –ù–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ PHPDoc

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–∑–Ω—ã–π —Å—Ç–∏–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–æ–µ–∫—Ç–∞.

**–ü—Ä–∏–º–µ—Ä—ã:**
```php
// –ò–Ω–æ–≥–¥–∞:
/**  @return int[] */

// –ò–Ω–æ–≥–¥–∞:
/**
 * @return Enumerable<int, Category>
 */
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∏–ª—å PHPDoc —Å–æ–≥–ª–∞—Å–Ω–æ PSR-5.

---

### 2. ‚ö†Ô∏è –°–º–µ—à–∏–≤–∞–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ PHPDoc –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

**–ü—Ä–∏–º–µ—Ä—ã:**
```php
// src/System/RPC/Attribute/RpcMethodLoader.php:225
// –ï—Å–ª–∏ —Ç–∏–ø –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π - –ø—Ä–æ–±—É–µ–º –≤—ã—Å—Ç–∞–≤–∏—Ç—å —Å—Ö–µ–º—É –∏–∑ phpDoc (@return)

// src/Domain/Hr/Achievements/Controller/CategoriesReadController.php:27
'–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π',
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ü—Ä–æ–±–ª–µ–º—ã –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- –°–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å IDE/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–ª—è –∫–æ–¥–∞, —Ä—É—Å—Å–∫–∏–π –¥–ª—è –±–∏–∑–Ω–µ—Å-–æ–ø–∏—Å–∞–Ω–∏–π –≤ –∞—Ç—Ä–∏–±—É—Ç–∞—Ö RpcMethod.

---

### 3. ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ grouped use statements

**–ü—Ä–∏–º–µ—Ä:**
```php
// src/Domain/Hr/Achievements/Controller/CategoriesReadController.php:7
use App\Common\Attribute\{RpcMethod, RpcParam};
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ IDE/–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ö—É–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ç–∞–∫–∏–º–∏ –∏–º–ø–æ—Ä—Ç–∞–º–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –†–µ—à–∏—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–∞–Ω–¥—ã - –ª–∏–±–æ –≤–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –ª–∏–±–æ –Ω–∏–≥–¥–µ.

---

### 4. ‚úÖ –•–æ—Ä–æ—à–æ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ strict_types

–í–æ –≤—Å–µ—Ö —Ñ–∞–π–ª–∞—Ö –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç `declare(strict_types=1)` - —ç—Ç–æ —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.

---

### 5. ‚úÖ –•–æ—Ä–æ—à–æ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ readonly properties

–í PHP 8.2 –ø—Ä–æ–µ–∫—Ç–∞—Ö –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `readonly` - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥.

---

## –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –±–∞–≥–∏

### 1. üî¥ –ö–†–ò–¢–ò–ß–ù–û: –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è SQL –∏–Ω—ä–µ–∫—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è SQL –±–µ–∑ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π.

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/Domain/Hr/Achievements/Repository/CategoryQueryRepository.php:45`
```php
$sql = self::BASE_SQL . 'WHERE cat.id = :id';
```

**–°—Ç–∞—Ç—É—Å:** –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è placeholder), –Ω–æ –ø–∞—Ç—Ç–µ—Ä–Ω –æ–ø–∞—Å–Ω—ã–π.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å prepared statements, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∏—Ä–æ–≤–∞—Ç—å SQL.

---

### 2. üî¥ –ö–†–ò–¢–ò–ß–ù–û: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ JWT

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/System/Security/JWT.php:72-74`
```php
private function checkSupportedAlgo(string $name): bool
{
    return in_array($name, hash_algos(), true);
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –≤ header –∏ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ
- –£—è–∑–≤–∏–º–æ—Å—Ç—å –∫ algorithm confusion attacks
- –ü—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –ª—é–±—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏–∑ hash_algos()

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å whitelist –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ (—Ç–æ–ª—å–∫–æ HS256, RS256 –∏ —Ç.–¥.).

---

### 3. ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –≤ base64

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/System/Security/JWT.php:52`
```php
hash_hmac($header['alg'], $rawHeader . '.' . $rawPayload, base64_encode($this->secret))
```

**–ü—Ä–æ–±–ª–µ–º–∞:** Secret –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ base64 –ø—Ä–∏ –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ - —ç—Ç–æ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ –¥–ª—è JWT.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –¢–æ–∫–µ–Ω—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏, –Ω–µ –±—É–¥—É—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é.

---

### 4. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ null –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–æ–≤

**–ü—Ä–∏–º–µ—Ä:** `src/Domain/Hr/Achievements/Entity/Achievement.php:62-64`
```php
if ($withoutAchievements) {
    $category = $this->category?->toCategoryWithoutAchievementsResponse();
} else {
    $category = $this->category?->toCategoryResponse();
}
```

**–°—Ç–∞—Ç—É—Å:** –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç null-safe operator `?->`, —á—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

---

### 5. ‚ö†Ô∏è –ù–µ–ø–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/System/RPC/RpcServer.php:100-103`
```php
} catch (Throwable $e) {
    captureException($e); //–ü–∏—à–µ–º –≤ Sentry –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ
    return $this->buildErrorResponse(self::INTERNAL, '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ RPC —Å–µ—Ä–≤–µ—Ä–∞', exception: $e);
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** Catch –≤—Å–µ—Ö Throwable —Å–∫—Ä—ã–≤–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (Error).

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –†–∞–∑–¥–µ–ª–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É Exception –∏ Error.

---

### 6. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∞–π–º–∞—É—Ç–æ–≤ –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/Common/Service/Integration/ProductImageClient.php:80-85`
```php
$response = $this->client->request('GET', $url, [
    'base_uri' => self::BASE_URI,
    'headers'  => [
        'Content-Type' => 'application/json',
    ],
]);
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ —É–∫–∞–∑–∞–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –í–æ–∑–º–æ–∂–Ω–æ–µ –∑–∞–≤–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã timeout –∏ connect_timeout.

---

### 7. ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ OPENSSL_PKCS1_OAEP_PADDING

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/System/Security/JWT.php:66`
```php
openssl_private_decrypt($payload, $payload, $key, OPENSSL_PKCS1_OAEP_PADDING);
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–º–µ—à–∏–≤–∞–Ω–∏–µ HMAC –∏ RSA –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Ç–æ–¥–µ.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:** –ù–µ–ø–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞, –≤–æ–∑–º–æ–∂–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏.

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥

### TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ 20+)

**–ö—Ä–∏—Ç–∏—á–Ω—ã–µ:**
1. `src/System/Security/JWT.php:8` - TODO: lcobucci/jwt
2. `src/System/RPC/Attribute/RpcMethodLoader.php:156` - TODO: –ø–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è array items
3. `src/System/RPC/Attribute/JsonSchemaExtractor.php:276` - TODO: support union types
4. `src/Domain/Finance/Kpi/UseCase/WriteMetricUseCase.php:98-100` - –Ω–µ—Å–∫–æ–ª—å–∫–æ TODO –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∫–æ–¥–∞

**–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ:**
5. `src/System/OracleErrorHandler.php:11` - TODO: –≤—ã–Ω–µ—Å—Ç–∏ –≤ portal/database
6. `src/System/Command/Generate.php:114` - TODO: –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã
7. `src/System/Security/AccessTokenHandler.php:34` - TODO: —Ä–µ—Ñ—Ä–µ—à —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:**
8. `src/Domain/Analytics/Mcp/Retriever/CacheArtefactRetriever.php:45` - –ø—É—Å—Ç–æ–π TODO
9. `src/Domain/Analytics/Mcp/UseCase/GetArtefactUseCase.php:104` - fix incorrect context prefix
10. `src/Common/Service/File/FileService.php:181` - TODO: —Ñ–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–≤–∞—Ç–∞—Ä–æ–∫

---

### –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –∫–æ–¥–µ.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `composer outdated` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Dependabot –∏–ª–∏ –∞–Ω–∞–ª–æ–≥

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ) üî¥

1. **–ó–∞–º–µ–Ω–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é JWT –Ω–∞ lcobucci/jwt**
   - –†–∏—Å–∫: –£—è–∑–≤–∏–º–æ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
   - Effort: 2-3 –¥–Ω—è
   - Impact: –í—ã—Å–æ–∫–∏–π

2. **–í—ã–Ω–µ—Å—Ç–∏ –≤—Å–µ —Ö–∞—Ä–¥–∫–æ–¥-–∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é**
   - IP –∞–¥—Ä–µ—Å–∞ (192.168.x.x)
   - –°—Ö–µ–º—É –ë–î (TEST)
   - Effort: 1-2 –¥–Ω—è
   - Impact: –í—ã—Å–æ–∫–∏–π

3. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ JWT**
   - –†–∏—Å–∫: Algorithm confusion attack
   - Effort: 4 —á–∞—Å–∞
   - Impact: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í—ã—Å–æ–∫–∏–π) ‚ö†Ô∏è

4. **–û—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç Illuminate\Support –≤ –ø–æ–ª—å–∑—É –Ω–∞—Ç–∏–≤–Ω—ã—Ö Symfony —Ä–µ—à–µ–Ω–∏–π**
   - Effort: 1-2 –Ω–µ–¥–µ–ª–∏
   - Impact: –°—Ä–µ–¥–Ω–∏–π
   - Benefit: –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ

5. **–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –≤—Å–µ—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤**
   - Effort: 4 —á–∞—Å–∞
   - Impact: –°—Ä–µ–¥–Ω–∏–π

6. **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–æ–ª—å—à–∏—Ö –∫–ª–∞—Å—Å–æ–≤ (>300 —Å—Ç—Ä–æ–∫)**
   - Effort: 2-3 –Ω–µ–¥–µ–ª–∏
   - Impact: –í—ã—Å–æ–∫–∏–π (—É–ª—É—á—à–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–°—Ä–µ–¥–Ω–∏–π) üìù

7. **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—Ç–∏–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ PHPDoc**
   - Effort: 1 –Ω–µ–¥–µ–ª—è
   - Impact: –ù–∏–∑–∫–∏–π

8. **–°–æ–∑–¥–∞–Ω–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ JSON Schema**
   - Effort: 1 –Ω–µ–¥–µ–ª—è
   - Impact: –°—Ä–µ–¥–Ω–∏–π

9. **–ü—Ä–æ—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**
   - Effort: 2-3 –Ω–µ–¥–µ–ª–∏
   - Impact: –°—Ä–µ–¥–Ω–∏–π

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4 (–ù–∏–∑–∫–∏–π) ‚úÖ

10. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞ –≤ CI/CD**
    - PHPStan
    - ECS
    - Rector
    - Pest coverage

11. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (ADR)**
    - –£–∂–µ –Ω–∞—á–∞—Ç–æ, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
    - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–∏–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ

---

## –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ

1. **–•–æ—Ä–æ—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: Clean Architecture + DDD - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
2. **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è**: `declare(strict_types=1)` –≤–µ–∑–¥–µ
3. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π PHP**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PHP 8.2 —Ñ–∏—á (readonly, typed properties)
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: 405 —Ç–µ—Å—Ç–æ–≤ - —Ö–æ—Ä–æ—à–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
5. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**: PHPStan level 9 - –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å
6. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ù–∞–ª–∏—á–∏–µ ADR –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
7. **Code Style**: –ù–∞—Å—Ç—Ä–æ–µ–Ω ECS, Rector
8. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: CI/CD pipeline (.gitlab-ci.yml)
9. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sentry
10. **–°–æ–≥–ª–∞—à–µ–Ω–∏—è**: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –ø–æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—é –∏ –∫–æ–º–º–∏—Ç–∞–º

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç **—Ö–æ—Ä–æ—à—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –æ—Å–Ω–æ–≤—É** –∏ —Å–ª–µ–¥—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–≤—è–∑–∞–Ω—ã —Å:

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é** (–∫–∞—Å—Ç–æ–º–Ω—ã–π JWT, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤)
2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º–æ—Å—Ç—å—é** (—Ö–∞—Ä–¥–∫–æ–¥ IP –∏ —Å—Ö–µ–º –ë–î)
3. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏** (—Å–º–µ—à–∏–≤–∞–Ω–∏–µ Symfony –∏ Laravel)
4. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –¥–æ–ª–≥–æ–º** (TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –±–æ–ª—å—à–∏–µ –∫–ª–∞—Å—Å—ã)

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** 7/10

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ü—Ä–æ–µ–∫—Ç –≤ —Ö–æ—Ä–æ—à–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞.

---

**–°–æ—Å—Ç–∞–≤–∏–ª:** Claude AI
**–î–∞—Ç–∞:** 2025-11-22
